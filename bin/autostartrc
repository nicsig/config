#!/bin/bash

# TODO: When do you need the `&` operator at the end of a command?

mkdir -p /run/user/$UID/tmp

# Autostart programs

# conky
"${HOME}/bin/conky-startup" &

# redshift
redshift-gtk -l 48.573392:7.752353 -t 5700:4700 &

# Why don't you use unclutter anymore?{{{
#
# It  interfered  with the  `interSubs`  script  which  allows  us to  read  the
# translation of subtitles.
#
# In the past, we used a shell function to toggle the process:
#
#     unclutter_toggle() {
#       emulate -L zsh
#       local pid
#       pid="$(pgrep unclutter)"
#       if [[ -n "${pid}" ]]; then
#         kill "${pid}"
#       else
#         unclutter -idle 2 & disown
#       fi
#     }
#
# But it's too cumbersome to remember to use it.
#
# ---
#
# Besides, unclutter could cause other issues:
#
# https://wiki.archlinux.org/index.php/unclutter#Known_bugs
#
# ---
#
# Finally:
#
# > ... the unclutter source code is terrible, so I wrote xbanish.
#
# And indeed the source code of xbanish is shorter.
# Use `$ apt-get source` to get the source code of unclutter.
#}}}
# Where can I find this program?{{{
#
# https://github.com/jcs/xbanish
#}}}
xbanish &

# Why don't you start urxvt anymore?{{{
#
#     /usr/bin/urxvt &
#
# First, we don't use urxvt as our default terminal emulator anymore.
# Second, sometimes, the terminal is slightly too high for the desktop.
# I think the issue comes from it being started automatically.
#}}}

# Purpose:{{{
#
# Configure xterm. In  particular, make its  background identical to the  one in
# urxvt (instead of black by default).
#}}}
xrdb -cpp "$(command -v cpp) -traditional-cpp" "${HOME}"/.Xresources &

"${HOME}/.config/keyboard/setup" &

