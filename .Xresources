! TODO:
! Learn how to start the urxvt daemon.
! It  would  reduce the  memory  footprint  when  we  temporarily open  2  urxvt
! terminals.


! TODO:
! Read all of this:
! http://pod.tst.eu/http://cvs.schmorp.de/rxvt-unicode/doc/rxvt.7.pod


! URXVT config
! FIXME:
! Some unicode characters are not rendered at all. Ex, euler number:
!
!         ùëí
!
! Google: urxvt unicode character missing
! Also, read `man urxvt` and search for `font`.
!
! NOTE:
! We can see that `DejaVu Sans Mono` support this glyph:
!
!    - start `gucharmap`
!    - select `DejaVu Sans Mono`
!    - select size `20`
!    - search for the glyph (C-f)
!
! It works in `xfce4-terminal` and in `guake`, so why not in `urxvt`?
! What's puzzling, is that `urxvt` is able to render other ‚Äúexotic‚Äú glyphs,
! like `·µ¢`.
!
! Solution:
! Install another font:
!         api xfonts-terminus
!
! And use it:
!
!       URxvt.font:             xft:Terminus:pixelsize=20:antialias=false
!       URxvt.boldFont:         xft:Terminus:bold:pixelsize=20:antialias=false
!
! Problem:
! How to use `DejaVu Sans Mono`, and `Terminus` as a fallback?
! This doesn't work:
!                                                             ‚îå necessary?
!                                                          ‚îå‚îÄ‚îÄ‚î§
!       URxvt.font:           xft:DejaVu Sans Mono:size=20,xft:Terminus:size=20
!       URxvt.boldFont:       xft:DejaVu Sans Mono:bold:size=20,xft:Terminus:bold:size=20
!
! Read this:
! https://forums.gentoo.org/viewtopic-t-783140-start-0-postdays-0-postorder-asc-highlight-urxvt.html
! http://pod.tst.eu/http://cvs.schmorp.de/rxvt-unicode/doc/rxvt.7.pod#How_does_rxvt_unicode_choose_fonts
!
! I tried this:
!
!         1. copy this file:
!                 https://github.com/muennich/urxvt-perls/blob/master/keyboard-select
!
!            ‚Ä¶ inside ~/.urxvt/ext/
!
!         2. start urxvt like this:
!
!                 urxvt -fn  'xft:DejaVu Sans Mono:size=20,xft:Terminus:size=20' \
!                       -fi  'xft:DejaVu Sans Mono:italic:size=20,xft:Terminus:italic:size=20' \
!                       -fb  'xft:DejaVu Sans Mono:bold:size=20,xft:Terminus:bold:size=20' \
!                       -fbi 'xft:DejaVu Sans Mono:bold:italic:size=20,xft:Terminus:bold:italic:size=20'
!
! Doesn't work.
! Even though I chose a size for the  2nd font which is not greater than the one
! of the base font:
!
!         The only limitation is  that none of the fonts may  be larger than the
!         base font, as the base font  defines the terminal character cell size,
!         which must be the same due to the way terminals work.
!
! Maybe `urxvt` doesn't recognize that the glyph is not supported and so doesn't
! try to use  the 2nd font? If so,  maybe we should just create  a mapping which
! would toggle the font on-the-fly?
!
! Update:
!
! Try:    C-v U 1d434 Esc
!         C-v U 1d435 Esc
!         ‚Ä¶
!
! Some characters are correctly rendered, but not others.
!
! Update:
!
! Now they all fail ‚Ä¶


! TODO:
! read ~/.vim/plugged/seoul256.vim/urxvt/seoul256-light

! TODO:
! In `vim-readline` we could install this mapping:
!
!         exe "set <m-y>=\e[99~"
!         ino  <expr><unique>  <m-y>  readline#yank('i', 1)
!
! And here we could rebind `M-y`:
!
!         URxvt.keysym.Meta-y: \033[99~
!
! This would fix the conflict between `yank-and-pop` and `√π`.
!
! See also:
!
!     man 7 urxvt    /URxvt.keysym.Up
!     https://unix.stackexchange.com/a/76591/275162
!
! But, how  to make sure  we choose a sequence  which doesn't conflict  with any
! existing key?
!
! Update:
! It would break the keys in other programs.
! For example, M-y wouldn't work in the shell anymore.

! choose a font
URxvt.font:            xft:DejaVu Sans Mono:size=20
URxvt.boldFont:        xft:DejaVu Sans Mono:bold:size=20

URxvt.ItalicFont:      xft:DejaVu Sans Mono:italic:size=20
URxvt.boldItalicFont:  xft:DejaVu Sans Mono:bold:italic:size=20

! set `$TERM` correctly
!
! It's not needed atm, because the package I installed seems to already set it
! correctly, but if we install a new package in the future, better be safe than
! sorry.
URxvt.termName:  rxvt-unicode-256color

! disable scrollbar
URxvt.scrollBar:  false

! Scroll with `M-j` and `M-k`, instead of `S-PgDown` and `S-PgUp`.
! Where is the syntax `URxvt.keysym.<sym>: command: ...` documented?{{{
!
!     $ man urxvt /RESOURCES /keysym.sym: action /command:STRING
!}}}
! Where is the sequence `\033]720;1\007` documented?{{{
!
! The general form of this sequence is:
!
!     OSC Ps ; Pt ST
!     ‚îÇ           ‚îÇ
!     ‚îÇ           ‚îî \007
!     ‚îî ESC ]
!
! Here:
!
!     Ps = 720
!     Pt = 1
!
! These values are described like so:
!
!     Ps = 720   Move viewing window up by Pt lines
!     Ps = 721   Move viewing window down by Pt lines
!
! Source:
!
!     $ man 7 urxvt /RXVT-UNICODE TECHNICAL REFERENCE /XTerm Operating System Commands
!}}}
! Why did you comment these lines?{{{
!
! 1. They interfere with `M-j` and `M-k` in WeeChat.
!
! 2. They may be too easy to press by accident.
!    If that happens while in Vim, it's distracting.
!
! Find  other keysequences  to trigger  the scrolling  if you  really want  this
! functionality.
! Or just rely on tmux scrollback buffer.
! }}}
! URxvt.keysym.Meta-k: command:\033]720;1\007
! URxvt.keysym.Meta-j: command:\033]721;1\007

! How to increase the size of the scrollback buffer?{{{
!
! URxvt.saveLines: 8192
!
! Source:
!
!     $ man 7 urxvt /RXVT-UNICODE\/URXVT FREQUENTLY ASKED QUESTIONS /Terminal Configuration
!
! By default, its size is limited to 1000 lines.
!}}}

! default geometry

!                ‚îå a little bigger than $COLUMNS
!                ‚îÇ
URxvt.geometry:  121x35
!                    ‚îÇ
!                    ‚îî  a little bigger than $LINES


Xft.dpi:        96
Xft.antialias:  true
Xft.rgba:       rgb
Xft.hinting:    true
Xft.hintstyle:  hintslight
Xft.autohint:   false
Xft.lcdfilter:  lcddefault



! URxvt.perl-ext-common: default,matcher
! URxvt.url-launcher: /usr/bin/xdg-open
! URxvt.matcher.button: 1
!
! URxvt.keysym.C-Delete: perl:matcher:last
! URxvt.keysym.M-Delete: perl:matcher:list
!
! URxvt.matcher.rend.0: Uline Bold fg5
!
! URxvt.colorUL: #4682b4



! Perl extensions
! Warning:{{{
!
! There should be no spaces between the names of the plugins.
! In particulare, no spaces between a comma and a backslash,
! and no spaces between a beginning of line and the name of a plugin.
!}}}
! Where are all these extensions located?{{{
!
!     /usr/lib/urxvt/perl/
!}}}
! What does `selection-to-clipboard` do?{{{
!
! It puts the selection into the system clipboard.
!
! Select some text  in the terminal, and  you can automatically paste  it in the
! browser, pressing `C-v`.
!
! In tmux, you need to disable the mouse (pfx + M-m) for the extension to work.
!}}}
! What does `-searchable-scrollback` do?{{{
!
! It disables the `searchable scrollback`  extension, because it shadows our Vim
! mapping `M-s`.
!}}}
! What does `matcher` do?{{{
!
! It underlines arbitrary patterns and make them clickable.
! By default, it's used to make URLs clickable.
!}}}
! What does `confirm-paste` do?{{{
!
! It prompts before allowing any paste with a newline character.
! It can protect from attacks such as this one:
!     https://thejh.net/misc/website-terminal-copy-paste
!}}}
URxvt.perl-ext-common:  default,\
selection-to-clipboard,\
-searchable-scrollback,\
pasta,\
matcher,\
keyboard-select,\
confirm-paste,\
clipboard-osc

*.allowWindowOps:  true
! xterm.VT100.allowWindowOps:  true

! temporarily disabled, we need to find another key to not shadow `M-u` (readline capitalize)
! besides, the next key binding can't work because we don't have any url-select extension
! inside    /usr/lib/urxvt/perl/    nor inside    ~/.urxvt/ext/
!
!     URxvt.keysym.M-u:     perl:url-select:select_next
!     URxvt.keysym.M-u:     perl:searchable-scrollback
URxvt.url-launcher:  /usr/bin/firefox

! If you don't want URLs to be underlines, the following resource isn't enough.
! You also need to either:
!
!    - disable the perl extension `matcher` in `URxvt.perl-ext-common`
!    - tweak the resource `URxvt.matcher.pattern.0`
URxvt.underlineURLs:  false
URxvt.matcher.pattern.0:  urxvt_matcher_pattern_garbage

URxvt.matcher.button:  1
URxvt.keysym.M-Escape:  perl:keyboard-select:activate
URxvt.keysym.Control-Shift-V:  perl:pasta:paste
! Comment this if you don't want copy when text is selected
URxvt.clipboard.autocopy:  true

! disable picture insert mode and ISO 14755 mode
! these modes prevent us from pasting with C-S-v
!
!     https://wilmer.gaa.st/blog/archives/36-rxvt-unicode-and-ISO-14755-mode.html#c289

URxvt.iso14755:  false
URxvt.iso14755_52:  false



! XTERM

! $TERM should be `xterm-256color`, so that our programs use the full palette of
! the terminal
XTerm*termName: xterm-256color

! Make key bindings using the meta modifier work.
!
! If ‚Äútrue‚Äù,  Meta characters (a  character combined with the  Meta modifier
! key) are  converted into  a two-character sequence  with the  character itself
! preceded by  ESC.
XTerm*metaSendsEscape: true

! font (face and size)
xterm*faceName: DejaVu Sans Mono
xterm*faceSize: 20

! TODO:
! We  can paste some  text selected  in firefox by  pressing down shift  and the
! mouse wheel.
! How to do the same with a key binding which doesn't involve the mouse?

! Let us paste the system clipboard via C-S-v.
!     https://unix.stackexchange.com/a/225076/277716
xterm*VT100.Translations: #override \
                 Ctrl Shift <Key>V:    insert-selection(CLIPBOARD) \n\
                 Ctrl Shift <Key>C:    copy-selection(CLIPBOARD)



! COLORS (for all X programs)

! don't choose the closest match in the palette for a true color
!
! Source:
!
!     http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#h2-Functions-using-CSI-_-ordered-by-the-final-character_s_
!     CSI Pm m  Character Attributes (SGR).
!
!     If  xterm  is  compiled  with   direct-color  support,  and  the  resource
!     directColor is  true, then rather  than choosing the closest  match, xterm
!     asks the X server to directly render a given color.
!
! Also useful for xterm to use the colors defined in this file.
! Without enabling  `directColor`, xterm  chooses a  black background  no matter
! what we we set up here.
directColor: true


! To find a good palette, look here:
!
!     https://terminal.sexy/
!
! When you want  to export a scheme,  you have to select the  export tab, BUT
! ALSO to click on the export button.



! NOTE:
! If you prefer to use the same colors used by seoul256:
!
!         ~/.vim/plugged/seoul256.vim/urxvt/seoul256-light
!
! Warning:
! The syntax highlighting applied by the `zsh-syntax-highlighting` plugin
! may override some of these colors for some tokens.
! Atm, it's the case for the double/single quoted strings. They aren't colored
! by the yellow defined in this file.


! google light
!
! special
! output of commands
*.foreground:   #373b41

! terminal background
! value taken from `bespin` light palette
*.background:   #dbd6d1

! If you change the color here, make sure to also change it in:
!
!         ~/.vim/plugged/vim-toggle-settings/autoload/toggle_settings.vim
!
! ‚Ä¶ in `s:colorscheme()`.
*.cursorColor:  #373b41

! black
*.color0:  #1d1f21
*.color8:  #969896

! red
*.color1:  #cc342b
*.color9:  #cc342b

! green
*.color2:   #198844
*.color10:  #198844

! yellow
! Taken from:    ~/.vim/plugged/seoul256.vim/urxvt/seoul256-light
*.color3:   #af8760
*.color11:  #d8865f

! blue
*.color4:   #3971ed
*.color12:  #3971ed

! magenta
*.color5:   #a36ac7
*.color13:  #a36ac7

! cyan
*.color6:   #3971ed
*.color14:  #3971ed

! white
! If you must change `color7`, choose a readable color.{{{
!
!     https://www.w3schools.com/colors/colors_shades.asp
!
! It's used by `cmus` to color its status line.
! It's also used by `pygmentize` to color python comments in white:
!
!     $ pygmentize ~/bin/python/xkbmapd.py
!}}}
*.color7:   #808080
*.color15:  #ffffff
